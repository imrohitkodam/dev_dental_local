XTGetMedia=data=>new Promise((resolve,reject)=>{if(!data||typeof data==="object"&&(!data.path||data.path==="")){Joomla.selectedMediaFile={};resolve({resp:{success:false}});return}const url=new URL(Joomla.getOptions("media-picker-api").apiBaseUrl?Joomla.getOptions("media-picker-api").apiBaseUrl:`${Joomla.getOptions("system.paths").baseFull}index.php?option=com_media&format=json`);url.searchParams.append("task","api.files");url.searchParams.append("url",true);url.searchParams.append("path",data.path);url.searchParams.append("mediatypes","0,1,2,3");url.searchParams.append(Joomla.getOptions("csrf.token"),1);fetch(url,{method:"GET",headers:{"Content-Type":"application/json"}}).then(response=>response.json()).then(async response=>resolve(response)).catch(error=>reject(error))});
